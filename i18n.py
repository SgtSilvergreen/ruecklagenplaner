# Internationalization (i18n) bundle for Ruecklagenplaner
# Keep UI strings and month names here to keep the main app lean.
# You can extend languages by adding new keys to I18N and MONTHS.

from typing import Dict

MONTHS: Dict[str, list] = {
    "de": [
        "", "Januar", "Februar", "März", "April", "Mai", "Juni",
        "Juli", "August", "September", "Oktober", "November", "Dezember",
    ],
    "en": [
        "", "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December",
    ],
}

# Optional: label mapping for cycle names from German -> English
TURNUS_LABELS_EN = {
    "Vierteljährlich": "Quarterly",
    "Halbjährlich": "Semiannual",
    "Jährlich": "Annual",
    "Benutzerdefiniert": "Custom",
}

I18N: Dict[str, Dict[str, str]] = {
    "de": {
        "app_title": "Rücklagenplaner",
        "tab_overview": "Übersicht",
        "tab_history": "Kontoverlauf",
        "btn_add_entry": "➕ Eintrag hinzufügen",
        "btn_edit": "✏️",
        "btn_delete": "❌",
        "btn_save": "Speichern",
        "btn_add": "Hinzufügen",
        "filter_category": "Kategorie",
        "filter_account": "Konto",
        "filter_sort": "Sortierung",
        "sort_name": "Name",
        "sort_due_month": "Fälligkeitsmonat",
        "sort_monthly": "Monatlicher Beitrag",
        "overview_header": "🗂 Übersicht der Rücklagen",
        "history_header": "💰 Kontostand-Verlauf mit Abbuchungen",
        "turnus": "Turnus",
        "next_due": "Nächste Fälligkeit",
        "start": "Start",
        "end": "Ende",
        "monthly_save": "Monatlich zurücklegen",
        "not_started": "Noch nicht gestartet",
        "monthly_sum_filtered": "Monatliche Summe (gefiltert)",
        "entries_count": "Einträge",
        "edit_title": "✏️ Eintrag bearbeiten",
        "add_title": "➕ Neuen Eintrag hinzufügen",
        "f_name": "Bezeichnung",
        "f_amount": "Betrag (€)",
        "f_account": "Konto",
        "f_category": "Kategorie",
        "f_cycle": "Turnus",
        "f_custom_cycle": "Benutzerdefinierter Turnus (Monate)",
        "f_due_month": "Fälligkeitsmonat",
        "f_start_month": "Startmonat",
        "f_start_year": "Startjahr",
        "f_use_end": "Enddatum setzen?",
        "f_end_month": "Endmonat",
        "f_end_year": "Endjahr",
        "settings": "⚙️ Einstellungen",
        "language": "Sprache",
        "currency": "Währungssymbol",
        "export": "Export",
        "download_entries": "Einträge herunterladen",
        "import": "Import",
        "replace_existing": "Bestehende Daten ersetzen",
        "import_btn": "Importieren",
        "danger_zone": "Gefahrenbereich",
        "confirm_wipe": "Ich verstehe, dass diese Aktion nicht rückgängig gemacht werden kann.",
        "wipe_btn": "Alle Daten löschen",
        "saved": "Gespeichert.",
        "import_ok": "Import erfolgreich.",
        "import_err": "Import fehlgeschlagen – ungültiges JSON.",
        "wiped": "Alle Daten gelöscht.",
        "no_data_for_filter": "Keine Daten für den gewählten Filter.",
        "own_value": "Eigene Eingabe",
        "enter_value": "Wert eingeben",
        "notif_new_entry": "Neuer Eintrag: {name}. Monatsrate: {rate}. Betrag: {amount}. Nächste Fälligkeit: {due}.",
        "notif_rate_changed": "Monatsrate geändert für {name}: {old} → {new}.",
        "notif_due_changed": "Fälligkeit geändert für {name}: {old} → {new}.",
        "notif_amount_changed": "Betrag geändert für {name}: {old} → {new}.",
        "notif_cycle_changed": "Turnus geändert für {name}: {old} → {new}.",
        "notif_deleted": "Eintrag gelöscht: {name}.",
        "notif_due_this_month": "Fälligkeit diesen Monat für {name}: {amount} fällig ({due}). Aktuelle Monatsrate: {rate}.",
    },
    "en": {
        "app_title": "Savings Planner",
        "tab_overview": "Overview",
        "tab_history": "Balance over time",
        "btn_add_entry": "➕ Add entry",
        "btn_edit": "✏️",
        "btn_delete": "❌",
        "btn_save": "Save",
        "btn_add": "Add",
        "filter_category": "Category",
        "filter_account": "Account",
        "filter_sort": "Sorting",
        "sort_name": "Name",
        "sort_due_month": "Due month",
        "sort_monthly": "Monthly contribution",
        "overview_header": "🗂 Reserve overview",
        "history_header": "💰 Balance with debits",
        "turnus": "Cycle",
        "next_due": "Next due",
        "start": "Start",
        "end": "End",
        "monthly_save": "Save per month",
        "not_started": "Not started yet",
        "monthly_sum_filtered": "Monthly total (filtered)",
        "entries_count": "Entries",
        "edit_title": "✏️ Edit entry",
        "add_title": "➕ Add new entry",
        "f_name": "Name",
        "f_amount": "Amount (€)",
        "f_account": "Account",
        "f_category": "Category",
        "f_cycle": "Cycle",
        "f_custom_cycle": "Custom cycle (months)",
        "f_due_month": "Due month",
        "f_start_month": "Start month",
        "f_start_year": "Start year",
        "f_use_end": "Set end date?",
        "f_end_month": "End month",
        "f_end_year": "End year",
        "settings": "⚙️ Settings",
        "language": "Language",
        "currency": "Currency symbol",
        "export": "Export",
        "download_entries": "Download entries",
        "import": "Import",
        "replace_existing": "Replace existing data",
        "import_btn": "Import",
        "danger_zone": "Danger zone",
        "confirm_wipe": "I understand this action cannot be undone.",
        "wipe_btn": "Delete all data",
        "saved": "Saved.",
        "import_ok": "Import successful.",
        "import_err": "Import failed – invalid JSON.",
        "wiped": "All data deleted.",
        "no_data_for_filter": "No data for the selected filter.",
        "own_value": "Custom input",
        "enter_value": "Enter value",
        "notif_new_entry": "New entry: {name}. Monthly rate: {rate}. Amount: {amount}. Next due: {due}.",
        "notif_rate_changed": "Monthly rate changed for {name}: {old} → {new}.",
        "notif_due_changed": "Due date changed for {name}: {old} → {new}.",
        "notif_amount_changed": "Amount changed for {name}: {old} → {new}.",
        "notif_cycle_changed": "Cycle changed for {name}: {old} → {new}.",
        "notif_deleted": "Entry deleted: {name}.",
        "notif_due_this_month": "Due this month for {name}: {amount} due ({due}). Current monthly rate: {rate}.",
    },
}


def get_text(lang: str, key: str) -> str:
    """Return localized text for `key` in language `lang`. Fallback to German and the key itself."""
    return I18N.get(lang, I18N["de"]).get(key, key)


__all__ = [
    "MONTHS",
    "I18N",
    "TURNUS_LABELS_EN",
    "get_text",
]
